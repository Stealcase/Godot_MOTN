[gd_scene load_steps=40 format=3 uid="uid://bwan7rqige74f"]

[ext_resource type="Script" path="res://Levels/ActorMovement.gd" id="1_j2pg1"]
[ext_resource type="Texture2D" uid="uid://ddkj58ann6pyd" path="res://Assets/Monsters/Human/O_Human_mon.png" id="1_vsngp"]
[ext_resource type="Shader" path="res://Shaders/Test_Level.gdshader" id="1_wq6p2"]
[ext_resource type="TileSet" uid="uid://bihxc2n0wqgw6" path="res://Assets/Sprites/UsedSheets/Outdoor Floor.tres" id="2_3d33m"]
[ext_resource type="Script" path="res://Levels/AnimationController.gd" id="4_uae2i"]
[ext_resource type="Script" path="res://Scripts/FollowCamera.gd" id="6_b7fjx"]
[ext_resource type="Script" path="res://Scripts/FPSCounter.gd" id="7_ioykq"]
[ext_resource type="Script" path="res://Scripts/Controls/PlayerInput.gd" id="7_lk3dn"]
[ext_resource type="Script" path="res://Core/MonsterLoader.gd" id="8_mq8e1"]
[ext_resource type="PackedScene" uid="uid://cl5bvful5hi3r" path="res://Core/Manifest.tscn" id="9_320em"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1mmds"]
shader = ExtResource("1_wq6p2")
cam_offset = Vector2(1.031, 0)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_h0s7e"]

[sub_resource type="AtlasTexture" id="AtlasTexture_t6rsn"]
atlas = ExtResource("1_vsngp")
region = Rect2(16, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_crge6"]
atlas = ExtResource("1_vsngp")
region = Rect2(0, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hb23g"]
atlas = ExtResource("1_vsngp")
region = Rect2(32, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_n7jhq"]
atlas = ExtResource("1_vsngp")
region = Rect2(48, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ktc8r"]
atlas = ExtResource("1_vsngp")
region = Rect2(64, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_uvulf"]
atlas = ExtResource("1_vsngp")
region = Rect2(80, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2nmp2"]
atlas = ExtResource("1_vsngp")
region = Rect2(80, 96, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_d4267"]
atlas = ExtResource("1_vsngp")
region = Rect2(64, 96, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_js71c"]
atlas = ExtResource("1_vsngp")
region = Rect2(48, 96, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4a8ds"]
atlas = ExtResource("1_vsngp")
region = Rect2(0, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_260yg"]
atlas = ExtResource("1_vsngp")
region = Rect2(16, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_srj1f"]
atlas = ExtResource("1_vsngp")
region = Rect2(32, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0vnj3"]
atlas = ExtResource("1_vsngp")
region = Rect2(32, 96, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_s5mfm"]
atlas = ExtResource("1_vsngp")
region = Rect2(16, 96, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yk6xy"]
atlas = ExtResource("1_vsngp")
region = Rect2(0, 96, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pcpqo"]
atlas = ExtResource("1_vsngp")
region = Rect2(32, 64, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_q3r35"]
atlas = ExtResource("1_vsngp")
region = Rect2(16, 64, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mxhyx"]
atlas = ExtResource("1_vsngp")
region = Rect2(0, 64, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_smkle"]
atlas = ExtResource("1_vsngp")
region = Rect2(48, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vcear"]
atlas = ExtResource("1_vsngp")
region = Rect2(64, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ik234"]
atlas = ExtResource("1_vsngp")
region = Rect2(80, 32, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sh76y"]
atlas = ExtResource("1_vsngp")
region = Rect2(80, 64, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0fg1q"]
atlas = ExtResource("1_vsngp")
region = Rect2(64, 64, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_p0os8"]
atlas = ExtResource("1_vsngp")
region = Rect2(48, 64, 16, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_73jl2"]
animations = [{
"frames": [SubResource("AtlasTexture_t6rsn"), SubResource("AtlasTexture_crge6"), SubResource("AtlasTexture_hb23g")],
"loop": true,
"name": &"Down",
"speed": 12.0
}, {
"frames": [SubResource("AtlasTexture_n7jhq"), SubResource("AtlasTexture_ktc8r"), SubResource("AtlasTexture_uvulf")],
"loop": true,
"name": &"DownLeft",
"speed": 12.0
}, {
"frames": [SubResource("AtlasTexture_2nmp2"), SubResource("AtlasTexture_d4267"), SubResource("AtlasTexture_js71c")],
"loop": true,
"name": &"DownRight",
"speed": 12.0
}, {
"frames": [SubResource("AtlasTexture_4a8ds"), SubResource("AtlasTexture_260yg"), SubResource("AtlasTexture_srj1f")],
"loop": true,
"name": &"Left",
"speed": 12.0
}, {
"frames": [SubResource("AtlasTexture_0vnj3"), SubResource("AtlasTexture_s5mfm"), SubResource("AtlasTexture_yk6xy")],
"loop": true,
"name": &"Right",
"speed": 12.0
}, {
"frames": [SubResource("AtlasTexture_pcpqo"), SubResource("AtlasTexture_q3r35"), SubResource("AtlasTexture_mxhyx")],
"loop": true,
"name": &"Up",
"speed": 12.0
}, {
"frames": [SubResource("AtlasTexture_smkle"), SubResource("AtlasTexture_vcear"), SubResource("AtlasTexture_ik234")],
"loop": true,
"name": &"UpLeft",
"speed": 12.0
}, {
"frames": [SubResource("AtlasTexture_sh76y"), SubResource("AtlasTexture_0fg1q"), SubResource("AtlasTexture_p0os8")],
"loop": true,
"name": &"UpRight",
"speed": 12.0
}]

[sub_resource type="LabelSettings" id="LabelSettings_ou8ma"]
font_size = 32

[sub_resource type="SpriteFrames" id="SpriteFrames_gij0m"]

[node name="Game" type="Node2D"]

[node name="ViewPort_Scale&Size" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_left = -10.0
offset_top = -10.0
offset_right = -10.0
offset_bottom = -10.0
scale = Vector2(5, 5)

[node name="SmoothCamContainer" type="SubViewportContainer" parent="ViewPort_Scale&Size"]
material = SubResource("ShaderMaterial_1mmds")
layout_mode = 0
offset_right = 392.0
offset_bottom = 224.0

[node name="SubViewport" type="SubViewport" parent="ViewPort_Scale&Size/SmoothCamContainer"]
disable_3d = true
handle_input_locally = false
gui_snap_controls_to_pixels = false
size = Vector2i(386, 218)
render_target_update_mode = 4

[node name="Player" type="Node2D" parent="ViewPort_Scale&Size/SmoothCamContainer/SubViewport"]

[node name="TileMap" type="TileMap" parent="ViewPort_Scale&Size/SmoothCamContainer/SubViewport"]
tile_set = ExtResource("2_3d33m")
format = 2
layer_0/tile_data = PackedInt32Array(393230, 131073, 4, 393229, 327681, 0, 327693, 327681, 0, 262157, 196609, 2, 262156, 65537, 4, 196620, 65537, 3, 262155, 131073, 3, 262154, 327681, 0, 196618, 1, 3, 196617, 327681, 0, 131081, 131073, 3, 65546, 327681, 2, 10, 327681, 2, -65525, 327681, 2, -65524, 196609, 2, 12, 131073, 3, 13, 196609, 2, 65550, 327681, 2, 65551, 196609, 2, 65552, 327681, 2, 131088, 65537, 3, 131087, 131073, 3, 131086, 1, 4, 131085, 327681, 2, 131084, 196609, 2, 65547, 196609, 2, 131083, 65537, 3, 196619, 65537, 3, 327694, 196609, 2, 131082, 131073, 4, 65545, 196609, 2, 65544, 65537, 1, 8, 196609, 2, 7, 327681, 2, 6, 196609, 2, 5, 327681, 2, 4, 196609, 2, 3, 327681, 2, 65539, 1, 3, 65538, 327681, 2, 65537, 327681, 0, 131073, 327681, 2, 196609, 131073, 4, 196608, 327681, 2, 262144, 1, 3, 327680, 65537, 3, 393215, 65537, 3, 393214, 65537, 1, 327679, 65537, 3, 196610, 65537, 1, 131075, 65537, 4, 131076, 1, 3, 131077, 1, 4, 65541, 131073, 3, 65542, 65537, 3, 65543, 65537, 3, 131080, 327681, 2, 196615, 196609, 2, 196614, 65537, 1, 196613, 131073, 3, 196612, 65537, 4, 196611, 1, 3, 262147, 65537, 4, 262146, 65537, 3, 262145, 131073, 4, 131078, 1, 3, 65540, 65537, 3, 131074, 131073, 3, 262148, 131073, 4, 262143, 327681, 2, 327678, 327681, 2, 327677, 327681, 0, 393213, 327681, 2, 393216, 65537, 4, 393217, 1, 3, 393218, 196609, 2, 458751, 65537, 3, 458749, 65537, 1, 458750, 65537, 1, 458748, 327681, 2, 327681, 1, 3, 458752, 1, 3, 458753, 65537, 3)

[node name="PlayerChar" type="CharacterBody2D" parent="ViewPort_Scale&Size/SmoothCamContainer/SubViewport"]
motion_mode = 1
floor_stop_on_slope = false
floor_constant_speed = true
script = ExtResource("1_j2pg1")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ViewPort_Scale&Size/SmoothCamContainer/SubViewport/PlayerChar"]
shape = SubResource("CapsuleShape2D_h0s7e")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="ViewPort_Scale&Size/SmoothCamContainer/SubViewport/PlayerChar"]
frames = SubResource("SpriteFrames_73jl2")
animation = &"DownRight"
script = ExtResource("4_uae2i")

[node name="Camera2D" type="Camera2D" parent="ViewPort_Scale&Size/SmoothCamContainer/SubViewport" node_paths=PackedStringArray("player", "GameNode", "smotCamContainer")]
current = true
drag_left_margin = 0.08
drag_top_margin = 0.22
drag_right_margin = 0.08
drag_bottom_margin = 0.22
editor_draw_limits = true
editor_draw_drag_margin = true
script = ExtResource("6_b7fjx")
player = NodePath("../PlayerChar")
GameNode = NodePath("../../../..")
smotCamContainer = NodePath("../..")
smooth_speed = 4.0

[node name="PlayerInput" type="Node" parent="ViewPort_Scale&Size/SmoothCamContainer/SubViewport" node_paths=PackedStringArray("playerMovement")]
script = ExtResource("7_lk3dn")
playerMovement = NodePath("../PlayerChar")

[node name="Manifest" parent="ViewPort_Scale&Size/SmoothCamContainer/SubViewport" instance=ExtResource("9_320em")]

[node name="Label" type="Label" parent="."]
offset_right = 40.0
offset_bottom = 23.0
text = "Text"
label_settings = SubResource("LabelSettings_ou8ma")
script = ExtResource("7_ioykq")

[node name="Node2D" type="Node2D" parent="."]
script = ExtResource("8_mq8e1")

[node name="AnimatedSprite2d" type="AnimatedSprite2D" parent="."]
frames = SubResource("SpriteFrames_gij0m")
